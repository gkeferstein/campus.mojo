# ============================================
# Campus.mojo Environment Configuration
# ============================================
# Copy this file to .env and fill in the values
# NEVER commit .env to version control!

# ============================================
# PostgreSQL Database
# ============================================
POSTGRES_USER=campus
POSTGRES_PASSWORD=CHANGE_ME_SECURE_PASSWORD
POSTGRES_DB=campus_lms

# Used by API container (Prisma). In docker-compose*.yml this is usually built automatically.
# Example (production): postgresql://campus:<password>@db:5432/campus_lms?connection_limit=20&pool_timeout=20
DATABASE_URL=postgresql://campus:CHANGE_ME_SECURE_PASSWORD@db:5432/campus_lms?schema=lms

# ============================================
# Directus CMS
# ============================================
# Generate with: openssl rand -hex 32
DIRECTUS_KEY=CHANGE_ME_RANDOM_KEY
DIRECTUS_SECRET=CHANGE_ME_RANDOM_SECRET

# Admin credentials for initial setup
DIRECTUS_ADMIN_EMAIL=admin@mojo-institut.de
DIRECTUS_ADMIN_PASSWORD=CHANGE_ME_ADMIN_PASSWORD

# Static token for API access (generate in Directus Admin)
DIRECTUS_ADMIN_TOKEN=GENERATE_IN_DIRECTUS_ADMIN

# Public URL for Directus
DIRECTUS_PUBLIC_URL=https://campus.mojo-institut.de/cms

# Internal URL used by the API container to reach Directus (defaults to http://directus:8055)
# DIRECTUS_URL=http://directus:8055

# ============================================
# LMS API
# ============================================
# Generate with: openssl rand -hex 64
JWT_SECRET=CHANGE_ME_JWT_SECRET
JWT_EXPIRES_IN=7d

# Webhook secret for external integrations
WEBHOOK_SECRET=CHANGE_ME_WEBHOOK_SECRET

# CORS (required in production)
CORS_ORIGIN=https://campus.mojo-institut.de

# Logging (optional)
LOG_LEVEL=info
SERVICE_NAME=campus-lms-api

# ============================================
# Clerk Authentication (SSO)
# ============================================
# Backend JWT verification
CLERK_SECRET_KEY=sk_live_CHANGE_ME
# Frontend
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_live_CHANGE_ME

# ============================================
# Frontend
# ============================================
NEXT_PUBLIC_API_URL=https://campus.mojo-institut.de/api
NEXT_PUBLIC_DIRECTUS_URL=https://campus.mojo-institut.de/cms

# ============================================
# Environment
# ============================================
NODE_ENV=production
